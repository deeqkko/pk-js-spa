<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="assignment1.css" type="text/css">
    <title>Age-o-Matic</title>
    <script>
            function calDiff() {
                /*
                Calculates a birth year based on current year and given birth year.
                Excepted input: number, NaN
                Output: string


                /*
                Fetches input from html element and parses it to a number value.
                Rounding is made in case input value is not an integer.
                Current time is stored and used with imput value to calculate the birth year.

                */
                var inputAge = Math.round(parseFloat(document.getElementById("birthday").value));
                var thisYear = new Date(); //Gets current time
                var result = 0;
                result = thisYear.getFullYear() - inputAge; //Calculates the birth year

                /*
                Evaluation. Result must be a positive integer ranging from 0 to 120.
                If not, an error message is returned instead of numeric result.
                First condition is to prevent runtime errors caused by a wrong type of input.
                The following conditions are merely for logical errors (e.g. haven't met
                a man with a negative age).
                */
                if (isNaN(inputAge)) {
                    result = "Not a number.";    //Not a number error.
                } else if (inputAge < 0) {       //Negative value error
                    result = "Error: Negative age value. Whoa!\
                             Pull your hand back and tell your mommy to wear panties!";
                } else if ((inputAge > 100) && (inputAge <= 120)) {
                    result = "Your birth year is " + result + " You're one tuff SOB! Gotta give ya that.";
                } else if (inputAge > 120) {     //Out of range error
                    result = "Error: Not a viable age of a human being. Be gone you devil! You're dead!";
                } else {
                    result = "Your birth year is " + result;
                }

                //Calculated value is returned.
                document.getElementById("yourAge").innerHTML = result;
        }
    </script>
</head>

<body>
    <!--Assignment 1:

    Make a web page which has a number input field, which asks the age of the user
    in years. Age must be a valid positive integer. Then you calculate the
    approximate birth year of the user.

    birth year = current year - age

    Make user interface so that it will work on all popular devices and browsers,
    including mobile. And so that it will behave nicely e.g. output an error
    message, in case user gives no input or erroneous input
    -->

    <h1>Age-o-Matic</h1>
    <h3>"And you never forget how old you are!"</h3>

    <form action="">
        <label for="date">Enter your age and get your birth year:</label><br>
        <input type="number" id="birthday" autofocus>
        <input type="button" id="button" value="Get it!" onclick="calDiff()">
        <p><output id="yourAge"></output></p>

    </form>


</body>

</html>
